{{!-- Header con título y mensaje de error --}}
{{> refresh-cron/header titulo=titulo error=error}}

{{#unless error}}

<p class="text-gray-700 mb-4">
    {{total}} ejecuciones registradas
</p>

{{!-- Card de filtros --}}
{{> refresh-cron/filters filters=filters pagination=pagination hasActiveFilters=hasActiveFilters}}

<div class="overflow-hidden rounded-xl shadow-lg border border-gray-200 bg-white">

    {{!-- Formulario para comparar por IDs --}}
    {{> refresh-cron/compare-form}}

    {{!-- Controles de selección de tabla --}}
    {{> refresh-cron/table-controls}}

    {{!-- Tabla de ejecuciones --}}
    {{> refresh-cron/table testigos=testigos}}

    {{!-- Paginación --}}
    {{> refresh-cron/pagination pagination=pagination testigos=testigos}}

    {{!-- Gráficos --}}
    {{> refresh-cron/charts}}

</div>

{{!-- Scripts modulares --}}
<script src="/js/refresh-cron.js"></script>
<script src="/js/refresh-cron/date-formatter.js"></script>
<script src="/js/refresh-cron/compare-selector.js"></script>
<script src="/js/refresh-cron/duration-chart.js"></script>
<script src="/js/refresh-cron/status-chart.js"></script>
<script src="/js/refresh-cron/trend-chart.js"></script>

{{/unless}}
